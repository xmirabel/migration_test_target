@startuml ProcessEquipment Activity

title Diagramme d'Activite - ProcessEquipment

start

:Recuperer les options systeme;

if (Programme aborte precedemment?) then (oui)
  stop
endif

if (Mois effectif des modifications defini et\nMois de service < Mois effectif des modifications?) then (oui)
  :Configurer pour recuperer les donnees historiques;
else (non)
  :Configurer pour recuperer les donnees actuelles;
endif

:Effacer les erreurs;
:Initialiser le traitement;

:Executer Housekeeping;

while (Pas de fin de fichier?) is (oui)
  :Executer la boucle de traitement;
endwhile

:Fermer les fichiers;
:Mettre a jour les options systeme;

if (Phase 1 et Participant TOL et\n(Voyage volontaire ou Estimation)) then (oui)
  :Traiter les reclamations secondaires;
endif

if (Phase 1 et Reclamation MAX) then (oui)
  :Traiter les reclamations cinquiemes;
endif

stop

@enduml
