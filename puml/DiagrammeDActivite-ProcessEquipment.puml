@startuml ProcessEquipment Activity

title Diagramme d'Activité - ProcessEquipment

start

:Récupérer les options système;

if (Programme aborté précédemment?) then (oui)
  stop
endif

if (Mois effectif des modifications défini et\nMois de service < Mois effectif des modifications?) then (oui)
  :Configurer pour récupérer les données historiques;
else (non)
  :Configurer pour récupérer les données actuelles;
endif

:Effacer les erreurs;
:Initialiser le traitement;

:Exécuter Housekeeping;

while (Pas de fin de fichier?) is (oui)
  :Exécuter la boucle de traitement;
endwhile

:Fermer les fichiers;
:Mettre à jour les options système;

if (Phase 1 et Participant TOL et\n(Voyage volontaire ou Estimation)) then (oui)
  :Traiter les réclamations secondaires;
endif

if (Phase 1 et Réclamation MAX) then (oui)
  :Traiter les réclamations cinquièmes;
endif

stop

@enduml
